{"hash":"d01d33f1b40fa48d41246b1ebccd525881a74980","data":{"post":{"id":"9f19404e12ab9685853c32590df8eba2","title":"Implement the OS supported share dialog on your website the using Javascript Web Share API","excerpt":"Common native apps like Twitter or any app that allows you to share content outside of them provide support for a dialog that allows you to share their content into other apps that are installed on your phone. In this tutorial, we will take a look at how this is done.","date":"3. January 2020","timeToRead":2,"canonical":"https://devloader.hashnode.dev/how-to-enable-the-os-supported-share-dialog-from-your-website-on-mobile-devices-using-javascript-web-share-api-ck4xy25vi0056mus1nn2n9ck5","category":{"id":"Javascript","title":"Javascript","path":"/category/javascript/"},"author":{"id":"Samuel Olaegbe","title":"Samuel Olaegbe","path":"/author/samuel-olaegbe/"},"content":"<h2 id=\"native-apps-vs-web-apps\"><a href=\"#native-apps-vs-web-apps\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Native Apps vs Web Apps</h2>\n<p>Common native apps like Twitter or any app that allows you to share content outside of them have a dialog like this one below where you can export whatever content (text, media, url) you selected into other apps and services installed on your mobile phone:</p>\n<p><img src=\"https://cdn.hashnode.com/res/hashnode/image/upload/v1578042572830/hcjrcex2g.png\" alt=\"Screenshot_20200103-083024_1578042501593.png\"></p>\n<p>If you're like me, you must have thought this feature was only available to native apps but I was wrong. With the <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Navigator/share\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">Web Share API</a>, Thanks to a newsletter I received from Codrops, I discovered this awe-spiring feature!</p>\n<h2 id=\"now-lets-get-coding\"><a href=\"#now-lets-get-coding\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Now, let's get coding!</h2>\n<p>This feature is quite new and still under active development, this comes with a bit of limitation:</p>\n<ul>\n<li>It is only available on <code>https</code> supported websites</li>\n<li>It can only share <code>texts</code>, <code>urls</code> and <code>media</code></li>\n<li>It must be invoked by a user action such as a <code>onclick</code>, <code>keydown</code>, etc.</li>\n</ul>\n<h4 id=\"sharing-a-text\"><a href=\"#sharing-a-text\" aria-hidden=\"true\"><span class=\"icon icon-link\"></span></a>Sharing a text</h4>\n<p>We will be using the <code>share</code> method which is a promise based method that requires an object property. It accepts any of the following four arguments: <code>text</code>, <code>title</code>, <code>url</code> or <code>files</code>. At least one of these must be passed in order to stop the browser from throwing a <code>TypeError</code>. You should pass at least 3 of these properties not only because it is regarded as best practice but also because you do not have complete control over which application your content will be share to. You want to make sure that no matter where it is shared to, it makes sense and also tracks back to your website.</p>\n<pre class=\"language-text line-numbers\"><code class=\"language-text\">const shareInfo = {\n  &#39;title&#39; : &#39;My new year resolution&#39;,\n  &#39;text&#39; : &#39;Join the #100DaysOfCode Challenge&#39;,\n  &#39;url&#39; : &#39;https://twitter.com/devloader&#39;\n}\n\nif(navigator.share){\n  btn.addEventListener(&#39;click&#39;, () =&gt; {\n    navigator.share(shareInfo)\n    .then( () =&gt; console.log(&#39;Shared successfully&#39;))\n    .catch( (error) =&gt; console.log(&#39;An error occured &#39;, error))\n  })\n}<span class=\"line-numbers-rows\" aria-hidden=\"true\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>Now, for instance if the user has a very good friend, let's call her Funmi. The user is excited about the #100DaysOfCode challenge and wishes to share with Funmi, they click on our little share button and they happen to have Funmi's email so they select their favourite mail application.</p>\n<p>Our <code>title</code> up there could become the mail's subject, while the <code>text</code> could be the mail body. If we had an image or any of the supported <code>files</code>, it could be an attachment to the mail. </p>\n<p>And that, is how we set up the share dialog built into native apps on a website using Javascript.</p>\n<p>In the part 2 of this tutorial, we will be looking at sharing files (pictures, audios, videos, etc).</p>\n<p>Thanks for reading and I'll love to have your feedback.</p>\n<p>PS: Please follow me on twitter <a href=\"https://twitter.com/devloader\" target=\"_blank\" rel=\"nofollow noopener noreferrer\">@devloader</a></p>\n","cover":{"type":"image","mimeType":"image/png","src":"/assets/static/js-os-dialog.ae4d66c.f07ac15459475211268af26cc10900b6.png","size":{"width":690,"height":846},"sizes":"(max-width: 690px) 100vw, 690px","srcset":["/assets/static/js-os-dialog.ae4d66c.f07ac15459475211268af26cc10900b6.png 690w"],"dataUri":"data:image/svg+xml,%3csvg fill='none' viewBox='0 0 690 846' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs%3e%3cfilter id='__svg-blur-377732c680d4f4da64883ecd90b1e509'%3e%3cfeGaussianBlur in='SourceGraphic' stdDeviation='40'/%3e%3c/filter%3e%3c/defs%3e%3cimage x='0' y='0' filter='url(%23__svg-blur-377732c680d4f4da64883ecd90b1e509)' width='690' height='846' xlink:href='data:image/png%3bbase64%2c/9j/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCABOAEADASIAAhEBAxEB/8QAGwAAAgMBAQEAAAAAAAAAAAAABAUDBggHAAH/xABBEAABAgQEAQYKBgsBAAAAAAABAgMABAURBhIhMQcIExhBUdEUIjdWYXF1lKHSFRdzgZOxIzZCRlJjgpGSorLw/8QAGQEAAgMBAAAAAAAAAAAAAAAAAAMBAgUE/8QAJBEAAQQBAwQDAQAAAAAAAAAAAQACAxEEEiExE0FhcRRR8KH/2gAMAwEAAhEDEQA/AAML8nCXquFaTV5zFSpVU9LtvltMqClGcXy3KtfXDdvkuSbhIbxk4sjfLKJNv9o7lw2aQ7w3wul1CVgU2XIChfXIIsTDMsyAphDKM%2bgKLDNubenri1ivKpRvws3dFdjzumPcx80ePJWlzvi18%2buSHzRpiEeIcT0%2bgLbRPCYUpaC5ZpvNlSDa57NYo%2bQMGpxoJ0UD5nBkYs%2bFwPoqy3nY97kPmj3RVlvOx73IfNHfsOYkkMQpeMgJhJaylQebyEg3sR2jQ6w6gZIHjU02ESwvheWSCiOyzP0VZbzse9yHzQixzycG8NYQq1aYxKuZXIS6pjmVygSFhO4uFaaRpV3FtLbqBlVF8pByqmA3dlJ10KvuOu2hhZxm8lGLPZz35QxzXNrUEhr2PvSbpG8MfJzhf2bL/wDAgmSw3KSj8q%2b1n55hZXmOxJCgbC9hfNrbe0DcMfJzhf2bL/8AAh4zINMvBxCn7glVlOqKbn0Xt1wsgHlOa9zRQPKKii47pFYm65T5ylSTc7LIYWxMMrdCA4lR1Sb9RB3GxEXqAKnJOTIC5dZS8BluXFoBH9J7YrJGJBpKfi5LsWTqNAPI387dqVZ4fUusyc9VputyyJUPhpthlDgWEIQCAkW6gLfGLqNxANOk1y93H1KLxFrB1a0AegK2gt5tLrS21ZsqhY5TY/3gjYGN0hRlZDsmQyuABNccbClzJvAbzC5qRMgJlt5sNN1Bc0AGLIWjOGwMxVlcIINxcQ64vthnhDihpJJCKW4gE7mybQ%2bNLfD7YQu8uldzd5zOU72JvrqTvpCHjA2GuEmK0JKiBTntVKKjt2mOmWd81alnw4zIL0KXA61t8JKItkkOpozZRl3uGtLRXZeZl00%2bjvScwDOrdlspQ8VOLUonnQoX6uy2mnbFp4c879WeGvBwgvfRkvlzkhN8g3tDNuXnEO84iQpaF/xpUc3p/Zh2NlCFpBFrmzMH5Lg6%2bB%2bI8pudzCSuONJn5NEyspZUld/GKRfq2h3CutTngobCWmXVHqdSojU2FiAfTGVl4/yIumD3HO/BBWrE8Ru1FQ4fLfhE8lhwrZCkZfGKgPF11MOhuIX0maTMB1IbbQUnZtKgPiBrB6r5Tltmtpfa8Tiw9CIRnz/TaJX9R2pcVnpatMTC5%2bbMwqrKUrIpC1Apd1yhIvtewt6tDqYuvF8rPCLFBeADppjmcDYHLr8YsZNU5wK8Dp5IGi%2beVcH/ABiu8Ys31S4q5wJC/o124Sbi%2bXqjpD5HCpDf16TsjIbK1oawNr6RfDpwtcMMOuAXKKUyoA%2bhsGKtg/iVPVmqy0lOScqyp50N/oyo6HY3Jt90WrhuhLnDTDaF3yqpbCTbsLYhHhrBuGqdVJWYlJ6YmZptaVNhxPXqRskdX5QxhZpOrlZczZy8GKq73fjiu/POy6LCfFNeZw7S/DH2nXipYbQ03YFSjfrOgFgYcQnrxpM00ZGrlCkGznNrSq2moNxEQlgeDILb3TpQ8sIjNHsp6BVmq1S2p1ltxoLuFNuboUNxDGF1HdpwZEpS1N82yLc22CAn/wBeDnXENNLccOVCRdR7BESFpeSwUOyswODQHcquP4vlma8aeZSYLKX0yq5oEZEum1k23O417oC4zeSjFns578onXK4VXXPppaGDURZXPqSu4sLA22v6bXgXjA4h7hHipxo5kKprpB7RaGzuhOnpAjbe/v8AevSTA2Zurqm99vX737XFsJ8pOiUTC9Jpb1AqbrklKty6locbAUUpAJFztpDXpT0Afu3VRf8Amtd8ZKgiVmAwHAWkuBYA1Nrb9/wEJpOtau6U9A83Kt%2bK33x7pUUC36uVa32rffGSRtEks7zLyXAkKKb6H1WgoItaxHKnoHVhuq/c613x96U9B83Kt%2bK33xk2Yc559xzKE5zew6ojgoIta1PKnoCgQcOVUj7VrvhHjrlG0XEmDqzRpehVJl6flVy6XHHGylJULXNjeM1zD3OhvxAnInLe9yrW9zEUTSLX/9k=' /%3e%3c/svg%3e"}}},"context":{}}